<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
{{- partial "head.html" . -}}

<body>
    {{- partial "header.html" . -}}
    <main>
        {{- block "main" . }}{{- end }}
    </main>
    {{- partial "footer.html" . -}}

    <script async>
        if (location.hostname == 'localhost' || location.hostname == '[::1]' || location.hostname == '127.0.0.1') {
            console.log("Running under localhost, no pageview request sent");
        } else {
            var request = new XMLHttpRequest();
            request.open("POST", "https://tombersoft.com/pageview/api/pageview", true);
            request.setRequestHeader('Content-Type', 'application/json');
            request.setRequestHeader('Authorization', 'LT6XEPjZThV4UmMWEmBvVm6wrV73T2h3');
            request.send(JSON.stringify({
                uri: location.pathname
            }));
        }
    </script>

    <script defer>
        document.addEventListener('DOMContentLoaded', () => {

            // Get all "navbar-burger" elements
            const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

            // Check if there are any navbar burgers
            if ($navbarBurgers.length > 0) {

                // Add a click event on each of them
                $navbarBurgers.forEach(el => {
                    el.addEventListener('click', () => {

                        // Get the target from the "data-target" attribute
                        const target = el.dataset.target;
                        const $target = document.getElementById(target);

                        // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
                        el.classList.toggle('is-active');
                        $target.classList.toggle('is-active');

                    });
                });
            }
        });
    </script>
</body>

</html>